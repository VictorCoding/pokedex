!function(){function n(n){return function(n){if(Array.isArray(n))return e(n)}(n)||function(n){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(n))return Array.from(n)}(n)||function(n,t){if(!n)return;if("string"==typeof n)return e(n,t);var o=Object.prototype.toString.call(n).slice(8,-1);"Object"===o&&n.constructor&&(o=n.constructor.name);if("Map"===o||"Set"===o)return Array.from(n);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return e(n,t)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=n[t];return o}function t(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function o(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function r(n,e,t){return e&&o(n.prototype,e),t&&o(n,t),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"ct+p":function(e,o,i){"use strict";i.r(o),i.d(o,"HomePageModule",(function(){return L}));var a,s=i("TEn/"),c=i("ofXK"),u=i("3Pt+"),l=i("tyNb"),d=i("mrSG"),f=i("XNiG"),m=i("1G5W"),h=i("fXoL"),p=i("m0gV"),b=i("qvb8"),g=i.n(b),v=["imageHolder"],k=["mainContainer"],y=((a=function(){function n(e,o){t(this,n),this.navCtrl=e,this.apiProvider=o}return r(n,[{key:"handleCardClick",value:function(){this.navCtrl.navigateForward("tabs/home/pokemon",{queryParams:{name:this.pokemon.name}})}},{key:"ngOnInit",value:function(){this.loadPokemon()}},{key:"loadPokemon",value:function(){var n=this;this.pokemon.url?this.apiProvider.getPokemon(this.pokemon.name).subscribe((function(e){return n.setupCard(e)})):this.setupCard(this.pokemon)}},{key:"setupCard",value:function(n){var e=this,t=n.sprites,o=t.other["official-artwork"].front_default,r=new Image;r.onload=function(){return Object(d.a)(e,void 0,void 0,regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g()(t.front_default);case 2:e=n.sent,this.mainContainer.nativeElement.style.backgroundColor=e[0].color,this.imageHolder.nativeElement.appendChild(r);case 4:case"end":return n.stop()}}),n,this)})))},r.src=o}}]),n}()).\u0275fac=function(n){return new(n||a)(h.Hb(s.I),h.Hb(p.a))},a.\u0275cmp=h.Bb({type:a,selectors:[["pokemon-card"]],viewQuery:function(n,e){var t;1&n&&(h.ic(v,!0),h.ic(k,!0)),2&n&&(h.ac(t=h.Vb())&&(e.imageHolder=t.first),h.ac(t=h.Vb())&&(e.mainContainer=t.first))},hostBindings:function(n,e){1&n&&h.Ub("click",(function(){return e.handleCardClick()}))},inputs:{pokemon:"pokemon"},decls:6,vars:1,consts:[[1,"main-container"],["mainContainer",""],[1,"image-holder"],["imageHolder",""],[1,"name-holder"]],template:function(n,e){1&n&&(h.Mb(0,"div",0,1),h.Ib(2,"div",2,3),h.Mb(4,"div",4),h.fc(5),h.Lb(),h.Lb()),2&n&&(h.xb(5),h.hc(" ",e.pokemon.name," "))},styles:["[_nghost-%COMP%]{width:50%;height:200px;display:flex;flex-direction:column;align-items:center}[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]{width:90%;height:90%;border-radius:15px}[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .image-holder[_ngcontent-%COMP%]{width:100%;height:79%;display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .image-holder[_ngcontent-%COMP%]     img{max-height:75%}[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .name-holder[_ngcontent-%COMP%]{text-align:center;font-weight:700}"]}),a);function w(n,e){1&n&&h.Ib(0,"pokemon-card",9),2&n&&h.Zb("pokemon",e.$implicit)}var P,C,O,M=[{path:"",component:(P=function(){function e(n){t(this,e),this.apiProvider=n,this.pokemons=[],this.searching=!1,this.destroyed$=new f.a}return r(e,[{key:"ngOnInit",value:function(){this.loadPokemon()}},{key:"ngOnDestroy",value:function(){this.destroyed$.next(!0),this.destroyed$.complete()}},{key:"loadPokemon",value:function(){var n=this;this.apiProvider.pokemonList().pipe(Object(m.a)(this.destroyed$)).subscribe((function(e){var t=e.results;n.pokemons=t}))}},{key:"loadMorePokemon",value:function(e){return Object(d.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.apiProvider.pokemonList(this.pokemons.length).pipe(Object(m.a)(this.destroyed$)).subscribe((function(t){var r,i=t.results;(r=o.pokemons).push.apply(r,n(i)),e.target.complete()}));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"doSearch",value:function(n){var e=this;this.searching=!0;var t=n.detail.value;if(""===t)return this.searching=!1,void this.loadPokemon();this.apiProvider.findPokemon(t).pipe(Object(m.a)(this.destroyed$)).subscribe((function(n){e.pokemons=n.error?[]:n}))}}]),e}(),P.\u0275fac=function(n){return new(n||P)(h.Hb(p.a))},P.\u0275cmp=h.Bb({type:P,selectors:[["home"]],decls:14,vars:4,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],[3,"ionChange"],[1,"pokemon-list"],[3,"pokemon",4,"ngFor","ngForOf"],["threshold","100px",3,"disabled","ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading more pokemons..."],[3,"pokemon"]],template:function(n,e){1&n&&(h.Mb(0,"ion-header",0),h.Mb(1,"ion-toolbar"),h.Mb(2,"ion-title"),h.fc(3," Pokemon "),h.Lb(),h.Lb(),h.Lb(),h.Mb(4,"ion-content",1),h.Mb(5,"ion-header",2),h.Mb(6,"ion-toolbar"),h.Mb(7,"ion-title",3),h.fc(8,"Pokemon"),h.Lb(),h.Lb(),h.Lb(),h.Mb(9,"ion-searchbar",4),h.Ub("ionChange",(function(n){return e.doSearch(n)})),h.Lb(),h.Mb(10,"ion-list",5),h.ec(11,w,1,1,"pokemon-card",6),h.Lb(),h.Mb(12,"ion-infinite-scroll",7),h.Ub("ionInfinite",(function(n){return e.loadMorePokemon(n)})),h.Ib(13,"ion-infinite-scroll-content",8),h.Lb(),h.Lb()),2&n&&(h.Zb("translucent",!0),h.xb(4),h.Zb("fullscreen",!0),h.xb(7),h.Zb("ngForOf",e.pokemons),h.xb(1),h.Zb("disabled",e.searching))},directives:[s.m,s.F,s.E,s.l,s.x,s.L,s.u,c.h,s.p,s.q,y],styles:[".pokemon-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}"]}),P)},{path:"pokemon",component:i("xKsE").a}],x=((C=function n(){t(this,n)}).\u0275mod=h.Fb({type:C}),C.\u0275inj=h.Eb({factory:function(n){return new(n||C)},imports:[[l.i.forChild(M)],l.i]}),C),j=i("7x4Y"),L=((O=function n(){t(this,n)}).\u0275mod=h.Fb({type:O}),O.\u0275inj=h.Eb({factory:function(n){return new(n||O)},imports:[[s.G,c.b,u.a,x,j.a]]}),O)},qvb8:function(n,e,t){var o;n.exports=(o={ignore:[],scale:1},function(n,e){void 0===e&&(e=o);try{var t=(e=Object.assign({},o,e)).ignore,r=e.scale;return(r>1||r<=0)&&console.warn("You set scale to "+r+", which isn't between 0-1. This is either pointless (> 1) or a no-op (\u2264 0)"),Promise.resolve(function(n,e){void 0===e&&(e=1);var t=new Image;return n.startsWith("data")||(t.crossOrigin="Anonymous"),new Promise((function(o,r){t.onload=function(){var n=t.width*e,r=t.height*e,i=function(n,e){var t=document.createElement("canvas");return t.setAttribute("width",n),t.setAttribute("height",e),t.getContext("2d")}(n,r);i.drawImage(t,0,0,n,r);var a=i.getImageData(0,0,n,r);o(a.data)};var i=function(){return r(new Error("An error occurred attempting to load image"))};t.onerror=i,t.onabort=i,t.src=n}))}(n,r)).then((function(n){return function(n,e){for(var t={},o=0;o<n.length;o+=4){var r=n[o+3];if(0!==r){var i=Array.from(n.subarray(o,o+3));if(-1===i.indexOf(void 0)){var a=r&&255!==r?"rgba("+i.concat([r]).join(",")+")":"rgb("+i.join(",")+")";-1===e.indexOf(a)&&(t[a]?t[a].count++:t[a]={color:a,count:1})}}}return Object.values(t).sort((function(n,e){return e.count-n.count}))}(n,t)}))}catch(i){return Promise.reject(i)}})}}])}();