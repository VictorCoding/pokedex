(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{cRhG:function(e,t,i){"use strict";i.r(t),i.d(t,"ProfilePageModule",(function(){return D}));var n=i("TEn/"),o=i("ofXK"),c=i("3Pt+"),a=i("tyNb"),r=i("HC5s"),s=i("fXoL"),b=i("m0gV");function l(e,t){if(1&e&&(s.Mb(0,"ion-thumbnail"),s.Ib(1,"img",2),s.Lb()),2&e){const e=s.Wb();s.xb(1),s.Zb("src",e.imageUrl,s.cc)}}let u=(()=>{class e{constructor(e,t){this.apiProvider=e,this.navCtrl=t,this.pokemonName="",this.imageUrl=""}ngOnInit(){this.apiProvider.getPokemon(this.pokemonName).subscribe(e=>{this.imageUrl=e.sprites.other["official-artwork"].front_default})}viewPokemon(){this.navCtrl.navigateForward("tabs/profile/pokemon",{queryParams:{name:this.pokemonName}})}}return e.\u0275fac=function(t){return new(t||e)(s.Hb(b.a),s.Hb(n.I))},e.\u0275cmp=s.Bb({type:e,selectors:[["pokemon-list-item"]],inputs:{pokemonName:"pokemonName"},decls:4,vars:2,consts:[[3,"click"],[4,"ngIf"],[3,"src"]],template:function(e,t){1&e&&(s.Mb(0,"ion-item",0),s.Ub("click",(function(){return t.viewPokemon()})),s.ec(1,l,2,1,"ion-thumbnail",1),s.Mb(2,"ion-label"),s.fc(3),s.Lb(),s.Lb()),2&e&&(s.xb(1),s.Zb("ngIf",t.imageUrl),s.xb(2),s.gc(t.pokemonName))},directives:[n.s,o.i,n.t,n.D],encapsulation:2}),e})();function m(e,t){1&e&&s.Ib(0,"img",11)}function f(e,t){if(1&e&&s.Ib(0,"img",12),2&e){const e=s.Wb();s.Zb("src",e.profilePicture,s.cc)}}function g(e,t){1&e&&s.Ib(0,"pokemon-list-item",14),2&e&&s.Zb("pokemonName",t.$implicit)}function h(e,t){if(1&e&&(s.Kb(0),s.Mb(1,"ion-list"),s.ec(2,g,1,1,"pokemon-list-item",13),s.Lb(),s.Jb()),2&e){const e=s.Wb();s.xb(2),s.Zb("ngForOf",e.caught)}}function p(e,t){1&e&&s.Ib(0,"pokemon-list-item",14),2&e&&s.Zb("pokemonName",t.$implicit)}function d(e,t){if(1&e&&(s.Kb(0),s.Mb(1,"ion-list"),s.ec(2,p,1,1,"pokemon-list-item",13),s.Lb(),s.Jb()),2&e){const e=s.Wb();s.xb(2),s.Zb("ngForOf",e.wishList)}}const v=new r.a("username"),P=new r.a("wishlist"),w=new r.a("caught"),k=new r.a("profile");let M=(()=>{class e{constructor(e){this.navCtrl=e,this.userName="",this.selectedSegment="caught",this.wishList=[],this.caught=[],this.profilePicture=""}ionViewDidEnter(){this.userName=v.get()||"",this.loadWishList(),this.loadCaught(),this.loadProfilePicture()}handleNameChange(e){v.set(e.detail.value)}segmentChanged(e){this.selectedSegment=e.detail.value}loadWishList(){this.wishList=P.get(!0)||[]}loadCaught(){this.caught=w.get(!0)||[]}takeMeToPicture(){this.navCtrl.navigateForward("tabs/profile/picture")}loadProfilePicture(){this.profilePicture=k.get()||""}}return e.\u0275fac=function(t){return new(t||e)(s.Hb(n.I))},e.\u0275cmp=s.Bb({type:e,selectors:[["profile"]],decls:20,vars:7,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],[3,"click"],["src","https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y",4,"ngIf"],[3,"src",4,"ngIf"],["placeholder","Your name...",3,"value","ionChange"],["value","caught",3,"ionChange"],["value","caught"],["value","wishlist"],[4,"ngIf"],["src","https://gravatar.com/avatar/dba6bae8c566f9d4041fb9cd9ada7741?d=identicon&f=y"],[3,"src"],[3,"pokemonName",4,"ngFor","ngForOf"],[3,"pokemonName"]],template:function(e,t){1&e&&(s.Mb(0,"ion-header",0),s.Mb(1,"ion-toolbar"),s.Mb(2,"ion-title"),s.fc(3," Profile "),s.Lb(),s.Lb(),s.Lb(),s.Mb(4,"ion-content",1),s.Mb(5,"ion-header",2),s.Mb(6,"ion-toolbar"),s.Mb(7,"ion-avatar",3),s.Ub("click",(function(){return t.takeMeToPicture()})),s.ec(8,m,1,0,"img",4),s.ec(9,f,1,1,"img",5),s.Lb(),s.Mb(10,"ion-input",6),s.Ub("ionChange",(function(e){return t.handleNameChange(e)})),s.Lb(),s.Lb(),s.Lb(),s.Mb(11,"ion-segment",7),s.Ub("ionChange",(function(e){return t.segmentChanged(e)})),s.Mb(12,"ion-segment-button",8),s.Mb(13,"ion-label"),s.fc(14,"Caught"),s.Lb(),s.Lb(),s.Mb(15,"ion-segment-button",9),s.Mb(16,"ion-label"),s.fc(17,"Wish List"),s.Lb(),s.Lb(),s.Lb(),s.ec(18,h,3,1,"ng-container",10),s.ec(19,d,3,1,"ng-container",10),s.Lb()),2&e&&(s.Zb("translucent",!0),s.xb(4),s.Zb("fullscreen",!0),s.xb(4),s.Zb("ngIf",!t.profilePicture),s.xb(1),s.Zb("ngIf",t.profilePicture),s.xb(1),s.Zb("value",t.userName),s.xb(8),s.Zb("ngIf","caught"===t.selectedSegment),s.xb(1),s.Zb("ngIf","wishlist"===t.selectedSegment))},directives:[n.m,n.F,n.E,n.l,n.b,o.i,n.r,n.L,n.y,n.K,n.z,n.t,n.u,o.h,u],styles:[""]}),e})();var L=i("mrSG"),C=i("jhN1");const I=["canvas"],y=["video"];function x(e,t){1&e&&s.Ib(0,"video",11,12)}function Z(e,t){if(1&e&&s.Ib(0,"img",13),2&e){const e=s.Wb();s.Zb("src",e.imagePreview,s.cc)}}function N(e,t){if(1&e){const e=s.Nb();s.Mb(0,"ion-button",1),s.Ub("click",(function(){return s.bc(e),s.Wb().takePicture()})),s.fc(1," Say Cheese! "),s.Lb()}}function O(e,t){if(1&e){const e=s.Nb();s.Mb(0,"ion-button",1),s.Ub("click",(function(){return s.bc(e),s.Wb().initCamera()})),s.fc(1," Retake "),s.Lb()}}function U(e,t){if(1&e){const e=s.Nb();s.Mb(0,"ion-button",14),s.Ub("click",(function(){return s.bc(e),s.Wb().save()})),s.fc(1," Keep "),s.Lb()}}function E(e,t){if(1&e&&s.Ib(0,"img",13),2&e){const e=s.Wb();s.Zb("src",e.currentPicture,s.cc)}}function W(e,t){1&e&&s.Ib(0,"ion-icon",15)}const F=new r.a("profile"),j=[{path:"",component:M},{path:"picture",component:(()=>{class e{constructor(e,t,i){this.navCtrl=e,this.toastCtrl=t,this.sanitizer=i,this.imagePreview="",this.currentPicture=""}ngOnInit(){this.initCamera(),this.loadCurrentPicture()}ionViewWillLeave(){this.stopStream()}initCamera(){return Object(L.a)(this,void 0,void 0,(function*(){if(this.imagePreview="","mediaDevices"in navigator&&navigator.mediaDevices.getUserMedia){const e=yield navigator.mediaDevices.getUserMedia({video:{width:200,height:200}});this.video.nativeElement.srcObject=e}else{const e=yield this.toastCtrl.create({message:"Camera not supported :(",duration:3e3});yield e.present()}}))}handleClick(){this.navCtrl.navigateBack("tabs/profile")}takePicture(){const e=this.video.nativeElement,t=this.canvas.nativeElement;t.height=200,t.width=200,t.getContext("2d").drawImage(e,0,0,200,200);const i=t.toDataURL();this.imagePreview=this.sanitizer.bypassSecurityTrustUrl(i)}loadCurrentPicture(){this.currentPicture=F.get()||""}save(){this.currentPicture=this.imagePreview,F.set(this.canvas.nativeElement.toDataURL())}stopStream(){this.video&&(this.video.nativeElement.srcObject.getTracks().forEach(e=>e.stop()),this.video.nativeElement.srcObject=null)}}return e.\u0275fac=function(t){return new(t||e)(s.Hb(n.I),s.Hb(n.M),s.Hb(C.b))},e.\u0275cmp=s.Bb({type:e,selectors:[["picture"]],viewQuery:function(e,t){var i;1&e&&(s.ic(I,!0),s.ic(y,!0)),2&e&&(s.ac(i=s.Vb())&&(t.canvas=i.first),s.ac(i=s.Vb())&&(t.video=i.first))},decls:19,vars:7,consts:[["slot","start"],[3,"click"],[1,"preview-container"],["canvas",""],["autoplay","","playsinline","","muted","",4,"ngIf"],[3,"src",4,"ngIf"],[1,"actions-container"],[3,"click",4,"ngIf"],["color","success",3,"click",4,"ngIf"],[1,"profile-picture-container"],["name","image",4,"ngIf"],["autoplay","","playsinline","","muted",""],["video",""],[3,"src"],["color","success",3,"click"],["name","image"]],template:function(e,t){1&e&&(s.Mb(0,"ion-header"),s.Mb(1,"ion-toolbar"),s.Mb(2,"ion-buttons",0),s.Mb(3,"ion-back-button",1),s.Ub("click",(function(){return t.handleClick()})),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Mb(4,"ion-content"),s.Mb(5,"div",2),s.Ib(6,"canvas",null,3),s.ec(8,x,2,0,"video",4),s.ec(9,Z,1,1,"img",5),s.Lb(),s.Mb(10,"div",6),s.ec(11,N,2,0,"ion-button",7),s.ec(12,O,2,0,"ion-button",7),s.ec(13,U,2,0,"ion-button",8),s.Lb(),s.Mb(14,"div",9),s.Mb(15,"ion-label"),s.fc(16," Current Picture "),s.Lb(),s.ec(17,E,1,1,"img",5),s.ec(18,W,1,0,"ion-icon",10),s.Lb(),s.Lb()),2&e&&(s.xb(8),s.Zb("ngIf",!t.imagePreview),s.xb(1),s.Zb("ngIf",t.imagePreview),s.xb(2),s.Zb("ngIf",!t.imagePreview),s.xb(1),s.Zb("ngIf",t.imagePreview),s.xb(1),s.Zb("ngIf",t.imagePreview),s.xb(4),s.Zb("ngIf",t.currentPicture),s.xb(1),s.Zb("ngIf",!t.currentPicture))},directives:[n.m,n.F,n.g,n.c,n.d,n.l,o.i,n.t,n.f,n.n],styles:[".preview-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.preview-container[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{display:none}.preview-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:auto}.actions-container[_ngcontent-%COMP%], .profile-picture-container[_ngcontent-%COMP%]{display:flex;justify-content:center}.profile-picture-container[_ngcontent-%COMP%]{flex-direction:column;align-items:center;margin-top:50px}"]}),e})()},{path:"pokemon",component:i("xKsE").a}];let S=(()=>{class e{}return e.\u0275mod=s.Fb({type:e}),e.\u0275inj=s.Eb({factory:function(t){return new(t||e)},imports:[[a.i.forChild(j)],a.i]}),e})();var _=i("7x4Y");let D=(()=>{class e{}return e.\u0275mod=s.Fb({type:e}),e.\u0275inj=s.Eb({factory:function(t){return new(t||e)},imports:[[n.G,o.b,c.a,S,_.a]]}),e})()}}]);