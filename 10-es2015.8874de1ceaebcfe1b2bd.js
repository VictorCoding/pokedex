(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"ct+p":function(n,e,t){"use strict";t.r(e),t.d(e,"HomePageModule",(function(){return C}));var o=t("TEn/"),i=t("ofXK"),r=t("3Pt+"),a=t("tyNb"),s=t("mrSG"),c=t("XNiG"),l=t("1G5W"),d=t("fXoL"),m=t("m0gV"),h=t("qvb8"),u=t.n(h);const b=["imageHolder"],p=["mainContainer"];let g=(()=>{class n{constructor(n,e){this.navCtrl=n,this.apiProvider=e}handleCardClick(){this.navCtrl.navigateForward("tabs/home/pokemon",{queryParams:{name:this.pokemon.name}})}ngOnInit(){this.loadPokemon()}loadPokemon(){this.pokemon.url?this.apiProvider.getPokemon(this.pokemon.name).subscribe(n=>this.setupCard(n)):this.setupCard(this.pokemon)}setupCard(n){const{sprites:e}=n,t=e.other["official-artwork"].front_default,o=new Image;o.onload=()=>Object(s.a)(this,void 0,void 0,(function*(){const n=yield u()(e.front_default);this.mainContainer.nativeElement.style.backgroundColor=n[0].color,this.imageHolder.nativeElement.appendChild(o)})),o.src=t}}return n.\u0275fac=function(e){return new(e||n)(d.Hb(o.I),d.Hb(m.a))},n.\u0275cmp=d.Bb({type:n,selectors:[["pokemon-card"]],viewQuery:function(n,e){var t;1&n&&(d.ic(b,!0),d.ic(p,!0)),2&n&&(d.ac(t=d.Vb())&&(e.imageHolder=t.first),d.ac(t=d.Vb())&&(e.mainContainer=t.first))},hostBindings:function(n,e){1&n&&d.Ub("click",(function(){return e.handleCardClick()}))},inputs:{pokemon:"pokemon"},decls:6,vars:1,consts:[[1,"main-container"],["mainContainer",""],[1,"image-holder"],["imageHolder",""],[1,"name-holder"]],template:function(n,e){1&n&&(d.Mb(0,"div",0,1),d.Ib(2,"div",2,3),d.Mb(4,"div",4),d.fc(5),d.Lb(),d.Lb()),2&n&&(d.xb(5),d.hc(" ",e.pokemon.name," "))},styles:["[_nghost-%COMP%]{width:50%;height:200px;display:flex;flex-direction:column;align-items:center}[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]{width:90%;height:90%;border-radius:15px}[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .image-holder[_ngcontent-%COMP%]{width:100%;height:79%;display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .image-holder[_ngcontent-%COMP%]     img{max-height:75%}[_nghost-%COMP%]   .main-container[_ngcontent-%COMP%]   .name-holder[_ngcontent-%COMP%]{text-align:center;font-weight:700}"]}),n})();function f(n,e){1&n&&d.Ib(0,"pokemon-card",9),2&n&&d.Zb("pokemon",e.$implicit)}const v=[{path:"",component:(()=>{class n{constructor(n){this.apiProvider=n,this.pokemons=[],this.searching=!1,this.destroyed$=new c.a}ngOnInit(){this.loadPokemon()}ngOnDestroy(){this.destroyed$.next(!0),this.destroyed$.complete()}loadPokemon(){this.apiProvider.pokemonList().pipe(Object(l.a)(this.destroyed$)).subscribe(({results:n})=>{this.pokemons=n})}loadMorePokemon(n){return Object(s.a)(this,void 0,void 0,(function*(){this.apiProvider.pokemonList(this.pokemons.length).pipe(Object(l.a)(this.destroyed$)).subscribe(({results:e})=>{this.pokemons.push(...e),n.target.complete()})}))}doSearch(n){this.searching=!0;const e=n.detail.value;if(""===e)return this.searching=!1,void this.loadPokemon();this.apiProvider.findPokemon(e).pipe(Object(l.a)(this.destroyed$)).subscribe(n=>{this.pokemons=n.error?[]:n})}}return n.\u0275fac=function(e){return new(e||n)(d.Hb(m.a))},n.\u0275cmp=d.Bb({type:n,selectors:[["home"]],decls:14,vars:4,consts:[[3,"translucent"],[3,"fullscreen"],["collapse","condense"],["size","large"],[3,"ionChange"],[1,"pokemon-list"],[3,"pokemon",4,"ngFor","ngForOf"],["threshold","100px",3,"disabled","ionInfinite"],["loadingSpinner","bubbles","loadingText","Loading more pokemons..."],[3,"pokemon"]],template:function(n,e){1&n&&(d.Mb(0,"ion-header",0),d.Mb(1,"ion-toolbar"),d.Mb(2,"ion-title"),d.fc(3," Pokemon "),d.Lb(),d.Lb(),d.Lb(),d.Mb(4,"ion-content",1),d.Mb(5,"ion-header",2),d.Mb(6,"ion-toolbar"),d.Mb(7,"ion-title",3),d.fc(8,"Pokemon"),d.Lb(),d.Lb(),d.Lb(),d.Mb(9,"ion-searchbar",4),d.Ub("ionChange",(function(n){return e.doSearch(n)})),d.Lb(),d.Mb(10,"ion-list",5),d.ec(11,f,1,1,"pokemon-card",6),d.Lb(),d.Mb(12,"ion-infinite-scroll",7),d.Ub("ionInfinite",(function(n){return e.loadMorePokemon(n)})),d.Ib(13,"ion-infinite-scroll-content",8),d.Lb(),d.Lb()),2&n&&(d.Zb("translucent",!0),d.xb(4),d.Zb("fullscreen",!0),d.xb(7),d.Zb("ngForOf",e.pokemons),d.xb(1),d.Zb("disabled",e.searching))},directives:[o.m,o.F,o.E,o.l,o.x,o.L,o.u,i.h,o.p,o.q,g],styles:[".pokemon-list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}"]}),n})()},{path:"pokemon",component:t("xKsE").a}];let k=(()=>{class n{}return n.\u0275mod=d.Fb({type:n}),n.\u0275inj=d.Eb({factory:function(e){return new(e||n)},imports:[[a.i.forChild(v)],a.i]}),n})();var P=t("7x4Y");let C=(()=>{class n{}return n.\u0275mod=d.Fb({type:n}),n.\u0275inj=d.Eb({factory:function(e){return new(e||n)},imports:[[o.G,i.b,r.a,k,P.a]]}),n})()},qvb8:function(n,e,t){var o;n.exports=(o={ignore:[],scale:1},function(n,e){void 0===e&&(e=o);try{var t=(e=Object.assign({},o,e)).ignore,i=e.scale;return(i>1||i<=0)&&console.warn("You set scale to "+i+", which isn't between 0-1. This is either pointless (> 1) or a no-op (\u2264 0)"),Promise.resolve(function(n,e){void 0===e&&(e=1);var t=new Image;return n.startsWith("data")||(t.crossOrigin="Anonymous"),new Promise((function(o,i){t.onload=function(){var n=t.width*e,i=t.height*e,r=function(n,e){var t=document.createElement("canvas");return t.setAttribute("width",n),t.setAttribute("height",e),t.getContext("2d")}(n,i);r.drawImage(t,0,0,n,i);var a=r.getImageData(0,0,n,i);o(a.data)};var r=function(){return i(new Error("An error occurred attempting to load image"))};t.onerror=r,t.onabort=r,t.src=n}))}(n,i)).then((function(n){return function(n,e){for(var t={},o=0;o<n.length;o+=4){var i=n[o+3];if(0!==i){var r=Array.from(n.subarray(o,o+3));if(-1===r.indexOf(void 0)){var a=i&&255!==i?"rgba("+r.concat([i]).join(",")+")":"rgb("+r.join(",")+")";-1===e.indexOf(a)&&(t[a]?t[a].count++:t[a]={color:a,count:1})}}}return Object.values(t).sort((function(n,e){return e.count-n.count}))}(n,t)}))}catch(r){return Promise.reject(r)}})}}]);